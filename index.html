<!DOCTYPE html>
<html lang="zh">
<head>

 <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User ID Display</title>
    <style>
      #user-id-display {
        display: inline-block; /* 将用户 ID 和按钮保持在一行 */
        font-size: 16px;
        color: #333;
        margin-right: 10px; /* 与按钮保持间距 */
      }
      #copy-button {
        display: inline-block; /* 按钮与用户 ID 保持一行 */
        padding: 5px 10px;
        font-size: 14px;
        cursor: pointer;
        background-color: #007BFF; /* 按钮背景颜色 */
        color: #fff;
        border: none;
        border-radius: 5px;
      }
      #copy-button:hover {
        background-color: #0056b3; /* 鼠标悬停时的按钮颜色 */
      }
    </style>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-W11WFR9KX7"></script>
    <script>
        // 定义生成 UUID 的函数
        function generateUUID() {
            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                var r = Math.random() * 16 | 0, v = c === 'x' ? r : (r & 0x3 | 0x8);
                return v.toString(16);
            });
        }

        // 检查是否已有 user_id
        let userId = localStorage.getItem('user_id');
        if (!userId) {
            // 如果没有，生成一个新的 UUID 并存储到 localStorage
            userId = generateUUID();
            localStorage.setItem('user_id', userId);
        }

        // 加载 Google Analytics 配置，并传递 user_id
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-W11WFR9KX7', {
            'user_id': userId  // 传递生成的 User ID
        });

        // 将 user_id 显示在网页上，并为按钮添加复制功能
        document.addEventListener("DOMContentLoaded", function() {
            const userIdDisplayElement = document.getElementById('user-id-display');
            const copyButton = document.getElementById('copy-button');
            
            // 显示用户 ID
            if (userIdDisplayElement) {
                userIdDisplayElement.textContent = `您的用户 ID 是：${userId}`;
            }

            // 为按钮添加点击复制功能
            if (copyButton) {
                copyButton.addEventListener('click', function() {
                    navigator.clipboard.writeText(userId).then(() => {
                        alert('用户 ID 已复制到剪贴板！');
                    }).catch(err => {
                        alert('复制失败，请手动复制。');
                        console.error('复制失败：', err);
                    });
                });
            }
        });
    </script>
    <title>亚马逊产品展示</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
 
  <!-- 添加显示 user_id 的元素 -->
    <p>
        <span id="user-id-display">正在加载用户 ID...</span>
        <button id="copy-button">复制</button>
    </p>
    <header>
        <h1>精选亚马逊产品</h1>
    </header>
    
    <main class="container">
        <section class="product-section search">
            <h2>搜索型产品</h2>
            <div class="product-grid">
                <a href="products/phone.html" class="product-card">
                    <div class="product-image">
                        <img src="https://tdkoy0428.github.io/手机.png" alt="手机">
                    </div>
                    <div class="product-info">
                        <h3>手机</h3>
                        <p>智能科技，品质生活</p>
                    </div>
                </a>

                <a href="products/computer.html" class="product-card">
                    <div class="product-image">
                        <img src="https://tdkoy0428.github.io/笔记本.png" alt="电脑">
                    </div>
                    <div class="product-info">
                        <h3>电脑</h3>
                        <p>高效办公，娱乐体验</p>
                    </div>
                </a>

                <a href="products/camera.html" class="product-card">
                    <div class="product-image">
                        <img src="https://tdkoy0428.github.io/相机.png" alt="相机">
                    </div>
                    <div class="product-info">
                        <h3>相机</h3>
                        <p>记录精彩瞬间</p>
                    </div>
                </a>
            </div>
        </section>

        <section class="product-section experience">
            <h2>体验型产品</h2>
            <div class="product-grid">
                <a href="products/lipstick.html" class="product-card">
                    <div class="product-image">
                        <img src="https://tdkoy0428.github.io/口红.png" alt="口红">
                    </div>
                    <div class="product-info">
                        <h3>口红</h3>
                        <p>绽放迷人魅力</p>
                    </div>
                </a>

                <a href="products/hand-cream.html" class="product-card">
                    <div class="product-image">
                        <img src="https://tdkoy0428.github.io/护手霜.png" alt="护手霜">
                    </div>
                    <div class="product-info">
                        <h3>护手霜</h3>
                        <p>呵护柔嫩双手</p>
                    </div>
                </a>

                <a href="products/face-cream.html" class="product-card">
                    <div class="product-image">
                        <img src="https://tdkoy0428.github.io/面霜.png" alt="面霜">
                    </div>
                    <div class="product-info">
                        <h3>面霜</h3>
                        <p>滋润呵护肌肤</p>
                    </div>
                </a>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 亚马逊产品展示. All rights reserved.</p>
    </footer>
</body>
</html> 
